<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
  <meta content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0" name="viewport" />
  <meta name="viewport" content="width=device-width" />

  <!-- 'Vendor CSS' -->
  <link rel="stylesheet"
    href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">
  <link href="https://cdn.jsdelivr.net/npm/halfmoon@1.1.1/css/halfmoon.min.css" rel="stylesheet" />

  <!-- MY CSS -->
  <link rel="stylesheet" href="styles.css" />
</head>

<body class="with-custom-webkit-scrollbars with-custom-css-scrollbars" data-dm-shortcut-enabled="true"
  data-set-preferred-mode-onload="true">


  <div class="page-wrapper with-navbar-fixed-bottom">

    <!-- ABOUT MODAL -->
    <div class="modal" id="aboutmodal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <a href="#" class="close" role="button" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </a>
          <h5 class="modal-title text-center">PaediSurgery Pal v1.0</h5>
          <p>This app was created for paeds surg newbies and veterans as a quick reference for common things.</p>
          <p class="text-center ">Works best with <span class="text-danger font-weight-bold">iPhones</span></p>
          <hr>
          <h6 class="text-center font-weight-bold">Development Progress</h6>
          <div class="progress h-25">
            <div class="progress-bar progress-bar-animated rounded-0" style="width: 80%" role="progressbar"
              aria-valuenow="80" aria-valuemin="0" aria-valuemax="100">Overall 80%</div>
          </div>
          <br>
          <div class="progress h-25">
            <div class="progress-bar bg-success progress-bar-animated rounded-0" style="width: 60%" role="progressbar"
              aria-valuenow="75" aria-valuemin="0" aria-valuemax="100">Directory 60%</div>
          </div>

          <div class="text-right mt-20">
            <!-- text-right = text-align: right, mt-20 = margin-top: 2rem (20px) -->
            <!-- <a href="#" class="btn mr-5" role="button">Close</a> -->
            <span class="text-muted pr-20">Suggestions welcomed!</span> <a href="mailto:ps.astanley@gmail.com"
              class="btn btn-primary" role="button">Contact me</a>
            <!-- <span class="text-muted pr-20">Suggestions welcomed!</span> <a href="sms://07984812687"
              class="btn btn-secondary" role="button">Contact me 2</a> -->

          </div>
          <hr>
          <small>DISCLAIMER: This App may not be relied upon for the purposes of medical diagnosis or as a
            recommendation for medical care or treatment. </small>
        </div>
      </div>
    </div>

    <!-- Meds Modal  -->
    <div class="modal" id="medmodal" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content medmodal">
          <a href="#" class="close" role="button" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </a>
          <h4 class="modal-title text-center">Common Meds</h4>

          <div class="overflow-x-hidden overflow-y-scroll w-370 h-200 border rounded">
            <!-- w-200 = width: 20rem (200px), h-100 = height: 10rem (100px) -->
            <div class="w-370 h-200">
              <!-- w-300 = width: 30rem (300px), h-200 = height: 20rem (200px) -->

              <div class="d-inline-block medlist">
                <p class="text-center font-weight-bold">Pain relief</p>
                <p><span class="font-weight-bold">Paracetamol: </span>3mg TDS PO</p>
                <p><span class="font-weight-bold">Paracetamol: </span>3mg TDS PO</p>
                <p><span class="font-weight-bold">Paracetamol: </span>3mg TDS PO</p>
                <p><span class="font-weight-bold">Paracetamol: </span>3mg TDS PO</p>
                <p class="text-center font-weight-bold">Antibiotics</p>
                <p><span class="font-weight-bold">Paracetamol:</span>3mg TDS PO</p>
              </div>

            </div>
          </div>



          <hr>
          <div class="d-flex">
            <span class="text-muted pr-20 font-size-14"><small>Source: BNFC 3.0.17 & Microguide Build 131 6.1.1</small>
            </span>
            <span><a href="#" class="btn btn-sm ml-10" role="button">Close</a></span>

          </div>
        </div>
      </div>
    </div>


    <!-- MAIN PAGE SECTON   -->
    <div class="content-wrapper">


      <div class="container-fluid">

        <div class="custom-shape-divider-top-1643772844">
          <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
            <path
              d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z"
              opacity=".25" class="shape-fill"></path>
            <path
              d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z"
              opacity=".5" class="shape-fill"></path>
            <path
              d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z"
              class="shape-fill"></path>
          </svg>
        </div>


        <div class="custom-shape-divider-bottom-1643800295">
          <svg data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 1200 120" preserveAspectRatio="none">
            <path
              d="M0,0V46.29c47.79,22.2,103.59,32.17,158,28,70.36-5.37,136.33-33.31,206.8-37.5C438.64,32.43,512.34,53.67,583,72.05c69.27,18,138.3,24.88,209.4,13.08,36.15-6,69.85-17.84,104.45-29.34C989.49,25,1113-14.29,1200,52.47V0Z"
              opacity=".25" class="shape-fill"></path>
            <path
              d="M0,0V15.81C13,36.92,27.64,56.86,47.69,72.05,99.41,111.27,165,111,224.58,91.58c31.15-10.15,60.09-26.07,89.67-39.8,40.92-19,84.73-46,130.83-49.67,36.26-2.85,70.9,9.42,98.6,31.56,31.77,25.39,62.32,62,103.63,73,40.44,10.79,81.35-6.69,119.13-24.28s75.16-39,116.92-43.05c59.73-5.85,113.28,22.88,168.9,38.84,30.2,8.66,59,6.17,87.09-7.5,22.43-10.89,48-26.93,60.65-49.24V0Z"
              opacity=".5" class="shape-fill"></path>
            <path
              d="M0,0V5.63C149.93,59,314.09,71.32,475.83,42.57c43-7.64,84.23-20.12,127.61-26.46,59-8.63,112.48,12.24,165.56,35.4C827.93,77.22,886,95.24,951.2,90c86.53-7,172.46-45.71,248.8-84.81V0Z"
              class="shape-fill"></path>
          </svg>
        </div>

        <!-- FLUID Calc -->
        <section id="section1">

          <h2 class="text-center text-primary mb-10">Fluid Mate</h2>
          <div class="w-400 mw-full">

            <!-- header with notes -->
            <details class="collapse-panel w-400 mw-full mb-10" closed>
              <!-- w-400 = width: 40rem (400px), mw-full = max-width: 100% -->
              <summary class="collapse-header">
                <span class="hidden-collapse-open">Howto</span>
                <span class="hidden-collapse-closed">Ok Lets talk fluids</span>
                <br />
                <span class="text-muted">Fluid requirements, replacements and correctons</span>
              </summary>
              <div class="collapse-content">
                <ul>
                  <li>Enter weight and select fluid category</li>

                </ul> uIt was going to rain, so he better get outside and prepare. Sleeping in his car was never the
                plan but sometimes things don't work out as planned.
              </div>
            </details>

            <div class="form-inline mw-full">

              <!-- WEIGHT INPUT   -->
              <div class="form-group">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text" aria-required="true">Weight</span>
                  </div>
                  <input type="number" class="form-control" value="" id="weight" placeholder="0.00 max 40kg"
                    onkeyup="calculatefluid()">
                  <div class="input-group-append">
                    <span class="input-group-text">kg</span>
                  </div>
                </div>
              </div>

              <!-- requirement INPUT -->
              <div class="form-group">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text" for="select-fluid" aria-required="true">Requirement</span>
                  </div>
                  <!-- <label for="select-fluid">Fluid Reqiurement</label> -->
                  <select class="form-control" id="select-fluid" size="5" onchange="fluidselected()">
                    <option selected="selected" value="full">Full maintenance</option>
                    <option value="postop">24 hour post op</option>
                    <option value="py">Py Correction</option>
                    <option value="bolus">Bolus</option>
                    <option value="custom">Custom: Fluids</option>
                    <option value="feed1">Feeds: @ 120mls/kg</option>
                    <option value="feed2">Feeds: @ 150mls</option>
                  </select>
                </div>
              </div>


              <!-- MAINTENANCE INPUT -->
              <div class="form-group">
                <div class="input-group">
                  <div class="input-group-prepend">
                    <span class="input-group-text" aria-required="true">Maintenance</span>
                  </div>
                  <input type="number" disabled="disabled" class="form-control" value="100" placeholder="0.00"
                    id="maintenance" onchange="calculatefluid()" onkeyup="calculatefluid()">
                  <div class="input-group-append">
                    <span class="input-group-text">%</span>
                  </div>
                </div>
              </div>

            </div>

            <!-- results area -->
            <div class="resultcard  mt-auto">
              <div class="content" id="fluidresult">
                <div>
                  <strong></strong>
                  <br>
                  <br>
                </div>
              </div>
            </div>

            <!-- Meds button -->
            <!-- <div class="form-group mt-20 text-center" id="meds">
              <button onclick="" class="btn btn-danger">Common Meds....</button>
            </div> -->

        </section>


        <!-- WHAT BLEEP  -->
        <section id="section2">
          <h2 class="text-center text-primary mb-20">Who Bleeped ?</h2>
          <div class="row d-block p-10 bleepresult">

            <h3 class="text-center">Location...</h3>
            <div class="text-center text-success  h-200" id="bleeplist"></div>
          </div>
          <div class="row d-block mt-20">
            <div class="col">
              <div class="card form-group text-center">
                <input id="bleepinput" type="number" name="bleep" maxlength="5"
                  class="form-control form-control-lg mw-full mb-10" placeholder="Enter the 5-digit bleep"
                  onkeyup="findbleep()">
                <button class="btn btn-lg btn-danger text-white" type="button" onclick="callbleep()"><i
                    class="las la-phone"></i> Call</button>
              </div>
            </div>

          </div>

        </section>

        <!-- WHAT NUMBER    -->
        <section id="section3">
          <h2 class="text-center text-primary">What Number</h2>
          <div class="collapse-group w-500 mw-full">

            <!-- SEARCH RESULTS TAB -->
            <details id="page-search" class="collapse-panel mw-full invisible position-absolute" open>
              <summary class="collapse-header">
                <strong>Search Results</strong>
                <br />
                <span class="text-muted">Paeds Surgery, Reg bleeps, Secretares</span>
              </summary>
              <div class="collapse-content p-0">
                <div id="page-search-results" class="row">

                </div>
              </div>
            </details>


            <!-- MYTEAM TAB -->
            <details class="collapse-panel mw-full hide-when-search" closed>
              <summary class="collapse-header">
                <strong>My Team</strong>
                <br />
                <span class="text-muted">Paeds Surgery, Reg bleeps, Secretares</span>
              </summary>
              <div class="collapse-content p-0">
                <div id="myteam" class="row"></div>
              </div>
            </details>


            <!-- WARDS TAB -->
            <details class="collapse-panel mw-full hide-when-search" closed>
              <!-- w-400 = width: 40rem (400px), mw-full = max-width: 100%, mt-20 = margin-top: 2rem (20px) -->
              <summary class="collapse-header">
                <strong>Wards</strong>
                <br>
                <span class="text-muted">BCH and NICU wards</span>

              </summary>
              <div class="collapse-content p-0">
                <div id="ward" class="row"></div>
              </div>
            </details>

            <!-- IMAGING TAB -->
            <details class="collapse-panel mw-full hide-when-search" closed>
              <summary class="collapse-header">
                <strong>Imaging</strong>
                <br>
                <span class="text-muted">Radiology, ECG & ECHO</span>
              </summary>
              <div class="collapse-content p-0">
                <div id="imaging" class="row"></div>
              </div>
            </details>

            <!-- LABS TAB -->
            <details class="collapse-panel mw-full hide-when-search" closed>
              <summary class="collapse-header">
                <strong>Labs</strong>
                <br>
                <span class="text-muted">Chem, Micro B, Histopath, Genetics</span>
              </summary>
              <div class="collapse-content p-0">
                <div id="lab" class="row"></div>
              </div>
            </details>

            <!-- OTHER TEAMS TAB -->
            <details class="collapse-panel mw-full hide-when-search" closed>
              <summary class="collapse-header">
                <strong>Other Teams</strong>
                <br>
                <span class="text-muted">Other Teams</span>
              </summary>
              <div class="collapse-content p-0">
                <div id="referral" class="row"></div>
              </div>
            </details>

            <!-- THEATRE TAB -->
            <details class="collapse-panel mw-full hide-when-search" closed>
              <summary class="collapse-header">
                <strong>Theatres</strong>
                <br>
                <span class="text-muted">Theatre Related</span>
              </summary>
              <div class="collapse-content p-0">
                <div id="theatre" class="row"></div>
              </div>
            </details>

            <!-- EXTERNAL HOSPITALS -->
            <details class="collapse-panel mw-full hide-when-search" closed>
              <!-- w-400 = width: 40rem (400px), mw-full = max-width: 100%, mt-20 = margin-top: 2rem (20px) -->
              <summary class="collapse-header">
                <strong>
                  External Hospitals
                </strong>
                <br>
                <span class="text-muted">Referral hospitals</span>
              </summary>
              <div class="collapse-content p-0">
                <div id="external" class="row">
                </div> <!--  row-eq-spacing -->
              </div>
            </details>

          </div>
        </section>


      </div>
    </div>

    <!-- NAVBAR SECTION  -->
    <nav class="navbar navbar-fixed-bottom">
      <button class="btn  btn-action" type="button" onclick="halfmoon.toggleDarkMode()" aria-label="Toggle dark mode">
        <i class="lar la-moon" style="font-size: 32px;"></i>
      </button>

      <span class="navbar-text">
        <!-- ml-5 = margin-left: 0.5rem (5px) -->
        <a href="#aboutmodal" class="nav-link">
          <span class="badge text-monospace text-center">PS-Pal <br> v1.0</span>
          <!-- text-monospace = font-family shifted to monospace -->
        </a>
      </span>

      <ul class="navbar-nav">
        <li class="nav-item active dropdown dropup with-arrow">
          <a href="#section1" class="nav-link " data-toggle="dropdown" id="nav-link-dropdown-toggle">
            Menu
            <i class="la la-angle-up ml-5" aria-hidden="true"></i>
          </a>

          <div class="dropdown-menu dropdown-menu-right" aria-labelledby="nav-link-dropdown-toggle">
            <a href="#section1" class="dropdown-item">Fluid Mate</a>
            <a href="#section2" class="dropdown-item">Call bleep</a>
            <a href="#section3" class="dropdown-item">
              What Number
            </a>

          </div>
        </li>

      </ul>

      <div class="navbar-content">
        <!-- SEARCH BOX -->
        <div class="input-group searchbox ml-20">
          <input id="searchbar" type="text" onfocus="searchbar_focused()" onkeyup="search_dir()" class="form-control"
            placeholder="Search location">
        </div>
      </div>

    </nav>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/halfmoon@1.1.1/js/halfmoon.min.js"></script>
  <script src="directory.js"></script>
  <script src="whatbleep.js"></script>
  <script src="fluid.js"></script>

  <script>

    loadDirs()

    function searchbar_focused() {
      document.getElementById('section3').scrollIntoView({ behavior: 'smooth' });
    }

    function search_dir() {

      let input = document.getElementById('searchbar').value
      input = input.toLowerCase();
      let x = document.getElementsByClassName('directory');

      let res = document.getElementById('page-search');
      let hideme = document.getElementsByClassName('hide-when-search');


      for (i = 0; i < x.length; i++) {
        if (!x[i].innerHTML.toLowerCase().includes(input)) {
          x[i].style.display = "none";

          res.classList.remove('invisible');
          for (let elm of hideme) {
            elm.classList.add('invisible')

          }

        }
        else {
          // console.log('else')
          x[i].style.display = "list-item";
        }

        if (input === "") {

          res.classList.add('invisible');

          for (let elm of hideme) {
            elm.classList.remove('invisible')
            // loadDirs()

          }
        }
      }
    }

    /* Storing user's device details in a variable*/
    let details = navigator.userAgent;

    /* Creating a regular expression 
    containing some mobile devices keywords 
    to search it in details string*/
    let regexp = /android|iphone|kindle|ipad/i;

    /* Using test() method to search regexp in details
    it returns boolean value*/
    let isMobileDevice = regexp.test(details);

    if (isMobileDevice) {
      console.log("You are using a Mobile Device");
    } else {
      console.log("You are using Desktop");
    }

    // let test = {
    //   "name":"test"
    // }

    // fs.writeFile ("directory.json", JSON.stringify(test), function(err) {
    // if (err) throw err;
    // console.log('complete');
    // }


  </script>

</body>

</html>